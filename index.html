<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nicolas Chalopin - Quant Developer & Data Analyst</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #00ff88;
            --danger: #ff0040;
            --dark: #0a0e1b;
            --darker: #060914;
            --light: #ffffff;
            --text: #e0e0e0;
            --text-dim: rgba(224, 224, 224, 0.7);
            --success: #00ff88;
            --card-bg: rgba(10, 14, 27, 0.9);
            --border: rgba(0, 255, 136, 0.2);
            --hover: rgba(0, 255, 136, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--darker);
            color: var(--text);
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Advanced Background Animation */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .grid-background {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 136, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 136, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 30s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            opacity: 0.5;
            animation: float 20s infinite linear;
        }

        .particle:nth-child(odd) {
            background: var(--primary);
        }

        .particle:nth-child(even) {
            background: var(--danger);
            animation-duration: 25s;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.5;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }

        /* Enhanced Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(6, 9, 20, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            padding: 0.5rem 0;
            background: rgba(6, 9, 20, 0.98);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .logo::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--danger);
            transition: width 0.3s ease;
        }

        .logo:hover::after {
            width: 100%;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--hover);
            border-radius: 8px;
            transform: scale(0);
            transition: transform 0.3s ease;
            z-index: -1;
        }

        .nav-links a:hover {
            color: var(--primary);
            transform: translateY(-2px);
        }

        .nav-links a:hover::before {
            transform: scale(1);
        }

        /* Floating Action Animations */
        .floating-element {
            animation: float-gentle 6s ease-in-out infinite;
        }

        .floating-element:nth-child(2n) {
            animation-delay: -2s;
        }

        .floating-element:nth-child(3n) {
            animation-delay: -4s;
        }

        @keyframes float-gentle {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* Enhanced Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 6rem 0 4rem;
            position: relative;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text {
            animation: slideInLeft 1s ease-out;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1rem;
            color: var(--light);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--danger));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .typing-effect {
            overflow: hidden;
            border-right: 3px solid var(--primary);
            white-space: nowrap;
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: var(--primary); }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .hero-text h2 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-weight: 400;
        }

        .hero-text p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: var(--text-dim);
        }

        .hero-info {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-dim);
            padding: 0.5rem 1rem;
            background: var(--hover);
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .info-item:hover {
            transform: translateY(-2px);
            background: var(--border);
        }

        .info-item i {
            color: var(--primary);
        }

        /* Enhanced Buttons */
        .cta-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.5s ease;
        }

        .btn:hover::before {
            width: 300%;
            height: 300%;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--danger);
            border: 2px solid var(--danger);
        }

        .btn-secondary:hover {
            background: var(--danger);
            color: var(--light);
            transform: translateY(-3px);
        }

        /* Mobile Navigation */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
        }

        @media (max-width: 768px) {
            .hero-text h1 {
                font-size: 2.5rem;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--darker);
                flex-direction: column;
                padding: 1rem;
                gap: 1rem;
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }
        }

        /* Section Base Styles */
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--light);
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--text-dim);
        }

        /* Animations d'apparition */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <div class="grid-background"></div>
        <div class="floating-particles" id="particles"></div>
    </div>

    <!-- Enhanced Navigation -->
    <nav id="navbar">
        <div class="container">
            <div class="nav-container">
                <div class="logo">NC</div>
                <ul class="nav-links" id="navLinks">
                    <li><a href="#home">Accueil</a></li>
                    <li><a href="#experience">Parcours</a></li>
                    <li><a href="#projects">Projets</a></li>
                    <li><a href="#skills">Compétences</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

<!-- Enhanced Hero Section -->
<section class="hero" id="home">
    <div class="container">
        <div class="hero-content">
            <!-- Partie Présentation -->
            <div class="hero-text">
                <h1>Nicolas <span class="gradient-text">Chalopin</span></h1>
                <h2 class="typing-effect">Quant Developer & Data Analyst</h2>
                <p>22 ans, passionné par la finance algorithmique, l'intelligence artificielle et la DeFi. Je développe des systèmes de trading automatisés haute performance et des modèles prédictifs basés sur le deep learning.</p>
                
                <h3 class="section-title">Mes ambitions</h3>
                <p>Allier IA, finance et développement pour concevoir des systèmes intelligents, performants et automatisés. Mon objectif : innover dans l'algo trading et la data science, en construisant des solutions à fort impact dans la fintech.</p>
                
                <div class="hero-info">
                    <div class="info-item floating-element">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Lyon, France</span>
                    </div>
                    <div class="info-item floating-element">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Bac +3 IA & Data</span>
                    </div>
                    <div class="info-item floating-element">
                        <i class="fas fa-briefcase"></i>
                        <span>Recherche alternance Data Science</span>
                    </div>
                </div>

                <div class="cta-buttons">
                    <a href="#projects" class="btn btn-primary">
                        <i class="fas fa-chart-line"></i> Explorer mes projets
                    </a>
                    <a href="mailto:nicolas01.chalopin@gmail.com" class="btn btn-secondary">
                        <i class="fas fa-envelope"></i> Me contacter
                    </a>
                </div>
            </div>
            
            <!-- Partie Terminal de Trading -->
            <div class="hero-terminal">
                <div id="trading-terminal-container">
                    <!-- Trading Terminal -->
                    <div class="trading-terminal" id="tradingTerminal">
                        <div class="terminal-header">
                            <h3 class="terminal-title">Live Trading Terminal</h3>
                            <div class="status-indicators">
                                <div class="status-dot" id="statusDot"></div>
                                <span class="status-text" id="statusText">Connecting...</span>
                            </div>
                        </div>
                        
                        <div class="terminal-content">
                            <div class="market-overview">
                                <div class="market-stat glass-effect">
                                    <div class="market-stat-label">Portfolio</div>
                                    <div class="market-stat-value" id="portfolioValue">€165,221</div>
                                    <div class="sparkline" id="portfolioSparkline"></div>
                                </div>
                                <div class="market-stat glass-effect">
                                    <div class="market-stat-label">24h P&L</div>
                                    <div class="market-stat-value positive" id="pnlValue">+4.86%</div>
                                    <div class="trend-arrow up">↗</div>
                                </div>
                                <div class="market-stat glass-effect">
                                    <div class="market-stat-label">Win Rate</div>
                                    <div class="market-stat-value" id="winRate">68.5%</div>
                                    <div class="">
                                        <svg width="40" height="40">
                                            <circle cx="20" cy="20" r="15" stroke="rgba(255, 255, 255, 0.1)" stroke-width="3" fill="none"/>
                                            <circle cx="20" cy="20" r="15" stroke="var(--primary)" stroke-width="3" fill="none" 
                                                    stroke-dasharray="94" stroke-dashoffset="30" class="progress-circle"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="market-stat glass-effect">
                                    <div class="market-stat-label">Active Bots</div>
                                    <div class="market-stat-value" id="activeBots">7</div>
                                    <div class="bot-indicators">
                                        <span class="bot-dot active"></span>
                                        <span class="bot-dot active"></span>
                                        <span class="bot-dot active"></span>
                                        <span class="bot-dot"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="charts-container">
                                <div class="main-chart-area">
                                    <div class="chart-header">
                                        <h4>BTC/USDT - 1m Candles (<span id="lastPrice">$43,250.00</span>)</h4>
                                        <div class="chart-controls">
                                            <button class="chart-btn active">1m</button>
                                            <button class="chart-btn">5m</button>
                                            <button class="chart-btn">1h</button>
                                        </div>
                                    </div>
                                    <div class="chart-canvas">
                                        <svg id="candleChart" class="chart-svg" viewBox="0 0 400 200">
                                            <!-- Candles will be rendered here -->
                                        </svg>
                                    </div>
                                    
                                    <!-- RSI Chart -->
                                    <div class="rsi-chart">
                                        <svg id="rsiChart" class="chart-svg" viewBox="0 0 400 60">
                                            <!-- RSI zones -->
                                            <line x1="0" y1="15" x2="400" y2="15" stroke="#ff0040" stroke-width="0.5" opacity="0.5"/>
                                            <line x1="0" y1="45" x2="400" y2="45" stroke="#ff0040" stroke-width="0.5" opacity="0.5"/>
                                            <text x="5" y="12" fill="#ff0040" font-size="8">70</text>
                                            <text x="5" y="50" fill="#ff0040" font-size="8">30</text>
                                            <!-- RSI line will be rendered here -->
                                        </svg>
                                        <div class="rsi-label">RSI(14): <span id="rsiValue">--</span></div>
                                    </div>
                                </div>
                                
                                <div class="indicators-panel">
                                    <div class="indicator-group">
                                        <div class="indicator-item glass-effect">
                                            <span class="indicator-name">Signal</span>
                                            <span class="indicator-value" id="signalValue">--</span>
                                        </div>
                                        
                                        <div class="indicator-item glass-effect">
                                            <span class="indicator-name">High 24h</span>
                                            <span class="indicator-value" id="high24Value">--</span>
                                        </div>
                                        
                                        <div class="indicator-item glass-effect">
                                            <span class="indicator-name">Low 24h</span>
                                            <span class="indicator-value" id="low24Value">--</span>
                                        </div>
                                        
                                        <div class="indicator-item glass-effect">
                                            <span class="indicator-name">Change 24h</span>
                                            <span class="indicator-value" id="change24Value">--</span>
                                        </div>
                                        
                                        <div class="indicator-item glass-effect">
                                            <span class="indicator-name">Trend</span>
                                            <span class="indicator-value" id="trendValue">--</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Variables CSS */
:root {
    --primary: #00ff88;
    --secondary: #ff0066;
    --danger: #ff0040;
    --success: #00ff88;
    --dark: #0a0e1a;
    --darker: #06090f;
    --card-bg: rgba(15, 23, 42, 0.8);
    --text: #ffffff;
    --text-dim: #94a3b8;
    --border: rgba(255, 255, 255, 0.1);
    --glass-bg: rgba(255, 255, 255, 0.05);
}

/* Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
}

.hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    z-index: 2;
    padding: 6rem 0 2rem 0;  /* Plus de marge en haut */
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
    width: 100%;
}

.hero-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: flex-start;
    min-height: 80vh;
}

/* Partie Présentation */
.hero-text {
    animation: slideInLeft 1s ease-out;
    padding-top: 2rem;
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.hero-text h1 {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.1;
}

.gradient-text {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.typing-effect {
    font-size: 1.8rem;
    color: var(--primary);
    margin-bottom: 2rem;
    font-weight: 500;
    border-right: 2px solid var(--primary);
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 50% { border-color: var(--primary); }
    51%, 100% { border-color: transparent; }
}

.hero-text p {
    font-size: 1.1rem;
    line-height: 1.6;
    color: var(--text-dim);
    margin-bottom: 1.5rem;
}

.section-title {
    font-size: 1.5rem;
    color: var(--primary);
    margin: 2rem 0 1rem 0;
    font-weight: 600;
}

.hero-info {
    display: flex;
    gap: 1rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
}

.info-item:hover {
    transform: translateY(-5px);
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
}

.info-item i {
    color: var(--primary);
    font-size: 1rem;
}

.info-item span {
    font-size: 0.9rem;
    color: var(--text);
}

.cta-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    border: 2px solid;
    position: relative;
    overflow: hidden;
}

.btn-primary {
    background: var(--primary);
    color: var(--dark);
    border-color: var(--primary);
}

.btn-primary:hover {
    background: transparent;
    color: var(--primary);
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
}

.btn-secondary {
    background: transparent;
    color: var(--text);
    border-color: var(--border);
}

.btn-secondary:hover {
    border-color: var(--primary);
    color: var(--primary);
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
}

/* Partie Terminal */
.hero-terminal {
    animation: slideInRight 1s ease-out;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Trading Terminal Styles */
.trading-terminal {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.3);
    border-radius: 16px;
    overflow: hidden;
    backdrop-filter: blur(20px);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    position: relative;
}

.terminal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
}

.terminal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, var(--primary), var(--danger), var(--primary));
    background-size: 200% 100%;
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.terminal-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary);
}

.status-indicators {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.status-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--primary);
    animation: heartbeat 2s infinite;
}

@keyframes heartbeat {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 255, 136, 0.7); }
    50% { transform: scale(1.1); box-shadow: 0 0 0 5px rgba(0, 255, 136, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 255, 136, 0); }
}

.status-text {
    font-size: 0.875rem;
    color: var(--primary);
}

.terminal-content {
    padding: 1.5rem;
}

.market-overview {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
}

.market-stat {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.market-stat:hover {
    transform: translateY(-5px) scale(1.02);
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
}

.glass-effect {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.05);
}

.market-stat-label {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-transform: uppercase;
    margin-bottom: 0.5rem;
    letter-spacing: 1px;
}

.market-stat-value {
    font-size: 1.2rem;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text);
    margin-bottom: 0.5rem;
}

.positive { color: var(--success); }
.negative { color: var(--danger); }

.sparkline {
    height: 15px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
    opacity: 0.3;
    border-radius: 2px;
}

.trend-arrow {
    font-size: 1rem;
    font-weight: bold;
}

.trend-arrow.up { color: var(--success); }
.trend-arrow.down { color: var(--danger); }

.progress-ring {
    position: absolute;
    top: 10px;
    right: 10px;
}

.progress-circle {
    transform: rotate(-90deg);
    transition: stroke-dashoffset 2s ease;
}

.bot-indicators {
    display: flex;
    gap: 0.25rem;
    justify-content: center;
    margin-top: 0.5rem;
}

.bot-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--text-dim);
    opacity: 0.3;
    transition: all 0.3s ease;
}

.bot-dot.active {
    background: var(--primary);
    opacity: 1;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.charts-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 1.5rem;
}

.main-chart-area {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1rem;
    position: relative;
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.chart-header h4 {
    font-size: 0.9rem;
    color: var(--text-dim);
}

.chart-controls {
    display: flex;
    gap: 0.5rem;
}

.chart-btn {
    padding: 0.25rem 0.75rem;
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-dim);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.75rem;
}

.chart-btn.active,
.chart-btn:hover {
    background: var(--primary);
    color: var(--dark);
    border-color: var(--primary);
}

.chart-canvas {
    height: 150px;
    position: relative;
    background: linear-gradient(135deg, transparent, rgba(0, 255, 136, 0.05));
    border-radius: 8px;
}

.chart-svg {
    width: 100%;
    height: 100%;
}

.rsi-chart {
    height: 50px;
    margin-top: 1rem;
}

.rsi-label {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-align: center;
    margin-top: 0.5rem;
}

.indicators-panel {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1rem;
}

.indicator-group {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.indicator-item {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 0.75rem;
    transition: all 0.3s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.indicator-item:hover {
    transform: translateX(5px);
    border-color: var(--primary);
}

.indicator-name {
    font-size: 0.75rem;
    color: var(--text-dim);
}

.indicator-value {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .hero-content {
        grid-template-columns: 1fr;
        gap: 3rem;
    }
    
    .hero-text h1 {
        font-size: 3rem;
    }
    
    .typing-effect {
        font-size: 1.5rem;
    }
}

@media (max-width: 768px) {
    .market-overview {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
    }
    
    .charts-container {
        grid-template-columns: 1fr;
    }
    
    .hero-info {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .cta-buttons {
        flex-direction: column;
    }
    
    .hero-text h1 {
        font-size: 2.5rem;
    }
    
    .typing-effect {
        font-size: 1.3rem;
    }
}
</style>

<script>
// Particle Animation
function createParticles() {
    const container = document.getElementById('particles');
    if (container) {
        for (let i = 0; i < 50; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = 20 + Math.random() * 10 + 's';
            container.appendChild(particle);
        }
    }
}

// Typing effect for hero title
function initTypingEffect() {
    const typingElement = document.querySelector('.typing-effect');
    if (typingElement) {
        const text = typingElement.textContent;
        typingElement.textContent = '';
        
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                typingElement.textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            }
        }
        
        setTimeout(typeWriter, 1000);
    }
}

// Initialize animations
document.addEventListener('DOMContentLoaded', () => {
    createParticles();
    initTypingEffect();
});
</script>

<script>
// Trading Terminal Complete Implementation
(() => {
    const MAX_DISPLAY_CANDLES = 30;
    const svgTop = 10, svgBottom = 140;
    const chartW = 380, chartH = svgBottom - svgTop;
    const xOffset = 10;
    const candleWidth = chartW / MAX_DISPLAY_CANDLES * 0.6;
    const candleSpacing = chartW / MAX_DISPLAY_CANDLES;

    let candles = [];
    let priceHistory = [];
    let macdHistory = [];
    let ws = null;
    let isConnected = false;
    let reconnectAttempts = 0;
    const maxReconnectAttempts = 5;

    // DOM Elements
    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');
    const priceLabel = document.getElementById('lastPrice');
    const rsiValueLabel = document.getElementById('rsiValue');
    const signalValueLabel = document.getElementById('signalValue');
    const high24ValueLabel = document.getElementById('high24Value');
    const low24ValueLabel = document.getElementById('low24Value');
    const change24ValueLabel = document.getElementById('change24Value');
    const trendValueLabel = document.getElementById('trendValue');
    const candleSvg = document.getElementById('candleChart');
    const rsiSvg = document.getElementById('rsiChart');
    const portfolioValue = document.getElementById('portfolioValue');
    const pnlValue = document.getElementById('pnlValue');

    // Initialize data and start terminal
    async function initializeData() {
        try {
            updateStatus('loading', 'Loading data...');
            
            // Fetch klines history (100 last candles)
            const klinesResponse = await fetch('https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1m&limit=100');
            if (!klinesResponse.ok) throw new Error('Failed to fetch klines data');
            const klinesData = await klinesResponse.json();
            
            // Fetch 24h stats
            const tickerResponse = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT');
            if (!tickerResponse.ok) throw new Error('Failed to fetch ticker data');
            const ticker24h = await tickerResponse.json();
            
            // Process klines data
            const processedCandles = klinesData.map(kline => ({
                open: parseFloat(kline[1]),
                high: parseFloat(kline[2]),
                low: parseFloat(kline[3]),
                close: parseFloat(kline[4]),
                volume: parseFloat(kline[5]),
                timestamp: kline[0],
                closeTime: kline[6]
            }));
            
            candles = processedCandles;
            priceHistory = candles.map(c => c.close);
            
            // Update 24h stats
            update24hStats(ticker24h);
            
            // Display initial data
            updateDisplay();
            drawCandles();
            drawRSI();
            
            // Start WebSocket connection
            connectWebSocket();
            
            // Start market data animation
            startMarketAnimation();
            
        } catch (error) {
            console.error('Error loading data:', error);
            updateStatus('error', 'Error loading data');
            // Retry after 5 seconds
            setTimeout(initializeData, 5000);
        }
    }

    function updateStatus(type, message) {
        if (!statusDot || !statusText) return;
        
        switch(type) {
            case 'connected':
                statusDot.style.background = '#00ff88';
                statusDot.style.animation = 'heartbeat 2s infinite';
                break;
            case 'loading':
                statusDot.style.background = '#ff9500';
                statusDot.style.animation = 'pulse 1s infinite';
                break;
            case 'error':
                statusDot.style.background = '#ff0040';
                statusDot.style.animation = 'none';
                break;
            case 'disconnected':
                statusDot.style.background = '#666';
                statusDot.style.animation = 'none';
                break;
        }
        
        statusText.textContent = message;
    }

    function connectWebSocket() {
        try {
            if (ws) {
                ws.close();
            }
            
            ws = new WebSocket('wss://stream.binance.com:9443/ws/btcusdt@kline_1m');
            
            ws.onopen = () => {
                isConnected = true;
                reconnectAttempts = 0;
                updateStatus('connected', 'Connected to Binance');
                console.log('WebSocket connected');
            };
            
            ws.onmessage = (event) => {
                try {
                    const data = JSON.parse(event.data);
                    if (data.k) {
                        processKlineUpdate(data.k);
                    }
                } catch (error) {
                    console.error('Error processing WebSocket message:', error);
                }
            };
            
            ws.onclose = (event) => {
                isConnected = false;
                console.log('WebSocket closed:', event.code, event.reason);
                
                if (reconnectAttempts < maxReconnectAttempts) {
                    reconnectAttempts++;
                    updateStatus('loading', `Reconnecting... (${reconnectAttempts}/${maxReconnectAttempts})`);
                    setTimeout(connectWebSocket, 5000 * reconnectAttempts);
                } else {
                    updateStatus('error', 'Connection failed');
                }
            };
            
            ws.onerror = (error) => {
                console.error('WebSocket error:', error);
                updateStatus('error', 'Connection error');
            };
            
        } catch (error) {
            console.error('WebSocket connection error:', error);
            updateStatus('error', 'Failed to connect');
        }
    }

    function processKlineUpdate(klineData) {
        const newCandle = {
            open: parseFloat(klineData.o),
            high: parseFloat(klineData.h),
            low: parseFloat(klineData.l),
            close: parseFloat(klineData.c),
            volume: parseFloat(klineData.v),
            timestamp: klineData.t,
            closeTime: klineData.T,
            isClosed: klineData.x
        };

        if (klineData.x) {
            // Closed candle - add new candle
            candles.push(newCandle);
            if (candles.length > 100) {
                candles.shift();
            }
            
            priceHistory.push(newCandle.close);
            if (priceHistory.length > 100) {
                priceHistory.shift();
            }
        } else {
            // Update current candle
            if (candles.length > 0) {
                candles[candles.length - 1] = newCandle;
                priceHistory[priceHistory.length - 1] = newCandle.close;
            }
        }

        updateDisplay();
        drawCandles();
        drawRSI();
    }

    function update24hStats(ticker24h) {
        if (!ticker24h) return;
        
        if (high24ValueLabel) {
            high24ValueLabel.textContent = '$' + parseFloat(ticker24h.highPrice).toFixed(2);
        }
        if (low24ValueLabel) {
            low24ValueLabel.textContent = '$' + parseFloat(ticker24h.lowPrice).toFixed(2);
        }
        
        if (change24ValueLabel) {
            const changePercent = parseFloat(ticker24h.priceChangePercent).toFixed(2);
            change24ValueLabel.textContent = changePercent + '%';
            change24ValueLabel.className = parseFloat(changePercent) >= 0 ? 'indicator-value positive' : 'indicator-value negative';
        }
    }

    function updateDisplay() {
        if (candles.length === 0) return;
        
        const lastCandle = candles[candles.length - 1];
        
        // Update price
        if (priceLabel) {
            priceLabel.textContent = '$' + lastCandle.close.toFixed(2);
        }
        
        // Calculate indicators
        if (priceHistory.length >= 15) {
            // RSI
            const rsi = calculateRSI(priceHistory);
            if (rsiValueLabel) {
                rsiValueLabel.textContent = rsi.toFixed(1);
            }
            
            // MACD
            const macdData = calculateMACD(priceHistory);
            if (signalValueLabel) {
                signalValueLabel.textContent = macdData.signal.toFixed(6);
            }
            
            // Trend
            if (priceHistory.length >= 20) {
                const shortMA = priceHistory.slice(-5).reduce((a, b) => a + b, 0) / 5;
                const longMA = priceHistory.slice(-20).reduce((a, b) => a + b, 0) / 20;
                const isBullish = shortMA > longMA;
                
                if (trendValueLabel) {
                    trendValueLabel.textContent = isBullish ? 'Bullish' : 'Bearish';
                    trendValueLabel.className = isBullish ? 'indicator-value positive' : 'indicator-value negative';
                }
            }
        }
    }

    function calculateRSI(prices, period = 14) {
        if (prices.length < period + 1) return 50;
        
        let gains = 0, losses = 0;
        for (let i = prices.length - period; i < prices.length; i++) {
            const change = prices[i] - prices[i - 1];
            if (change > 0) gains += change;
            else losses -= change;
        }
        
        const avgGain = gains / period;
        const avgLoss = losses / period;
        const rs = avgGain / (avgLoss || 1);
        return 100 - (100 / (1 + rs));
    }

    function calculateEMA(values, period) {
        if (values.length === 0) return 0;
        const k = 2 / (period + 1);
        let ema = values[0];
        for (let i = 1; i < values.length; i++) {
            ema = values[i] * k + ema * (1 - k);
        }
        return ema;
    }

    function calculateMACD(prices) {
        if (prices.length < 26) return { macd: 0, signal: 0, histogram: 0 };
        
        const ema12 = calculateEMA(prices.slice(-12), 12);
        const ema26 = calculateEMA(prices.slice(-26), 26);
        const macd = ema12 - ema26;
        
        macdHistory.push(macd);
        if (macdHistory.length > 9) macdHistory.shift();
        
        const signal = calculateEMA(macdHistory.slice(), 9);
        
        return { macd, signal, histogram: macd - signal };
    }

    function drawCandles() {
        if (!candleSvg) return;
        
        // Clear existing candles
        while (candleSvg.firstChild) {
            candleSvg.removeChild(candleSvg.firstChild);
        }
        
        const displayCandles = candles.slice(-MAX_DISPLAY_CANDLES);
        if (!displayCandles.length) return;
        
        const prices = displayCandles.flatMap(c => [c.high, c.low]);
        const minP = Math.min(...prices);
        const maxP = Math.max(...prices);
        const range = maxP - minP || 1;

        displayCandles.forEach((c, i) => {
            const x = xOffset + i * candleSpacing + (candleSpacing - candleWidth) / 2;
            const yOpen = svgBottom - ((c.open - minP) / range) * chartH;
            const yClose = svgBottom - ((c.close - minP) / range) * chartH;
            const yHigh = svgBottom - ((c.high - minP) / range) * chartH;
            const yLow = svgBottom - ((c.low - minP) / range) * chartH;
            const isBull = c.close >= c.open;
            const color = isBull ? '#00ff88' : '#ff0040';

            // Wick
            const wick = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            wick.setAttribute('x1', x + candleWidth/2);
            wick.setAttribute('x2', x + candleWidth/2);
            wick.setAttribute('y1', yHigh);
            wick.setAttribute('y2', yLow);
            wick.setAttribute('stroke', color);
            wick.setAttribute('stroke-width', '1');
            wick.setAttribute('opacity', '0.8');
            candleSvg.appendChild(wick);
            
            // Body
            const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            rect.setAttribute('x', x);
            rect.setAttribute('y', Math.min(yOpen, yClose));
            rect.setAttribute('width', candleWidth);
            rect.setAttribute('height', Math.abs(yClose - yOpen) || 1);
            rect.setAttribute('fill', color);
            rect.setAttribute('opacity', i === displayCandles.length - 1 ? '1' : '0.8');
            candleSvg.appendChild(rect);
        });
    }

    function drawRSI() {
        if (!rsiSvg) return;
        
        const existingLine = rsiSvg.querySelector('.rsi-line');
        if (existingLine) existingLine.remove();
        
        if (priceHistory.length < 15) return;
        
        const rsiValues = [];
        const startIndex = Math.max(14, priceHistory.length - MAX_DISPLAY_CANDLES);
        
        for (let i = startIndex; i < priceHistory.length; i++) {
            const rsi = calculateRSI(priceHistory.slice(0, i + 1));
            rsiValues.push(rsi);
        }
        
        if (rsiValues.length < 2) return;
        
        const rsiPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        let pathData = '';
        
        rsiValues.forEach((rsi, i) => {
            const x = xOffset + (i / (rsiValues.length - 1)) * (400 - 2 * xOffset);
            const y = 60 - (rsi / 100) * 60;
            pathData += (i === 0 ? 'M' : 'L') + x + ',' + y;
        });
        
        rsiPath.setAttribute('d', pathData);
        rsiPath.setAttribute('stroke', '#00ff88');
        rsiPath.setAttribute('stroke-width', '2');
        rsiPath.setAttribute('fill', 'none');
        rsiPath.setAttribute('class', 'rsi-line');
        rsiPath.setAttribute('opacity', '0.9');
        rsiSvg.appendChild(rsiPath);
    }

    // Market data animation for portfolio metrics
    function startMarketAnimation() {
        let portfolioBase = 165221;
        let pnlBase = 4.86;
        
        setInterval(() => {
            // Animate portfolio value slightly
            if (portfolioValue) {
                const variance = (Math.random() - 0.5) * 5000;
                const newValue = portfolioBase + variance;
                portfolioValue.textContent = '€' + newValue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }

            // Animate P&L
            if (pnlValue) {
                const variance = (Math.random() - 0.5) * 1.5;
                const newValue = pnlBase + variance;
                pnlValue.textContent = (newValue > 0 ? '+' : '') + newValue.toFixed(2) + '%';
                pnlValue.className = 'market-stat-value ' + (newValue > 0 ? 'positive' : 'negative');
            }
        }, 4000);

        // Animate other metrics occasionally
        setInterval(() => {
            const winRateElement = document.getElementById('winRate');
            if (winRateElement) {
                const variance = (Math.random() - 0.5) * 5;
                const newValue = Math.max(60, Math.min(75, 68.5 + variance));
                winRateElement.textContent = newValue.toFixed(1) + '%';
            }

            const activeBotsElement = document.getElementById('activeBots');
            if (activeBotsElement) {
                const botCount = Math.floor(Math.random() * 3) + 6; // 6-8 bots
                activeBotsElement.textContent = botCount.toString();
            }
        }, 8000);
    }

    // Chart controls functionality
    function initChartControls() {
        const chartButtons = document.querySelectorAll('.chart-btn');
        chartButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                chartButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Here you could implement different timeframe logic
                console.log('Switched to timeframe:', btn.textContent);
            });
        });
    }

    // Enhanced error handling
    function handleError(error, context) {
        console.error(`Error in ${context}:`, error);
        updateStatus('error', `Error: ${context}`);
    }

    // Cleanup function
    function cleanup() {
        if (ws) {
            ws.close();
        }
    }

    // Initialize everything when DOM is ready
    function initialize() {
        try {
            initChartControls();
            initializeData();
        } catch (error) {
            handleError(error, 'initialization');
        }
    }

    // Auto-retry mechanism for failed connections
    function autoRetry() {
        if (!isConnected && reconnectAttempts < maxReconnectAttempts) {
            setTimeout(() => {
                console.log('Auto-retrying connection...');
                connectWebSocket();
            }, 10000);
        }
    }

    // Start the application
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initialize);
    } else {
        // DOM already loaded
        setTimeout(initialize, 500);
    }

    // Cleanup on page unload
    window.addEventListener('beforeunload', cleanup);

    // Auto-retry every 30 seconds if disconnected
    setInterval(autoRetry, 30000);

    // Additional CSS animations
    const additionalStyles = `
        <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }
        
        .market-stat {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .market-stat:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 255, 136, 0.3);
        }
        
        .chart-canvas {
            transition: all 0.3s ease;
        }
        
        .chart-canvas:hover {
            box-shadow: inset 0 0 20px rgba(0, 255, 136, 0.1);
        }
        
        .indicator-item {
            transition: all 0.2s ease;
        }
        
        .indicator-item:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: translateX(8px) scale(1.02);
        }
        
        .status-dot {
            transition: all 0.3s ease;
            box-shadow: 0 0 10px currentColor;
        }
        
        .terminal-header {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(15, 23, 42, 0.3));
        }
        </style>
    `;
    
    // Inject additional styles
    document.head.insertAdjacentHTML('beforeend', additionalStyles);

})();

// Global helper functions
window.TradingTerminal = {
    reconnect: function() {
        console.log('Manual reconnection triggered');
        if (typeof connectWebSocket === 'function') {
            connectWebSocket();
        }
    },
    
    getStatus: function() {
        return {
            connected: isConnected,
            candlesCount: candles ? candles.length : 0,
            lastUpdate: new Date().toISOString()
        };
    }
};

console.log('Trading Terminal initialized successfully');
</script>

<!-- Particles Background -->
<div id="particles"></div>

<!-- Additional Enhancements -->
<style>
/* Particle system */
.particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--primary);
    border-radius: 50%;
    opacity: 0.6;
    animation: float 20s infinite linear;
}

/* Additional terminal enhancements */
.trading-terminal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 50% 50%, rgba(0, 255, 136, 0.05) 0%, transparent 70%);
    pointer-events: none;
    z-index: -1;
}

.chart-canvas::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 30%, rgba(0, 255, 136, 0.03) 50%, transparent 70%);
    pointer-events: none;
}

/* Glowing effects */
.market-stat-value.positive {
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
}

.market-stat-value.negative {
    text-shadow: 0 0 10px rgba(255, 0, 64, 0.5);
}

/* Loading states */
.loading {
    position: relative;
    overflow: hidden;
}

.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.2), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* Responsive improvements */
@media (max-width: 480px) {
    .market-overview {
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
    }
    
    .market-stat {
        padding: 0.75rem 0.5rem;
    }
    
    .market-stat-value {
        font-size: 1rem;
    }
    
    .chart-canvas {
        height: 120px;
    }
    
    .rsi-chart {
        height: 40px;
    }
}
</style>

<script>
// Trading Terminal Complete Implementation
(() => {
    const MAX_DISPLAY_CANDLES = 20;
    const svgTop = 10, svgBottom = 190;
    const chartW = 380, chartH = svgBottom - svgTop;
    const xOffset = 10;
    const candleWidth = chartW / MAX_DISPLAY_CANDLES * 0.6;
    const candleSpacing = chartW / MAX_DISPLAY_CANDLES;

    let candles = [];
    let priceHistory = [];
    let macdHistory = [];
    let ws = null;
    let isConnected = false;

    // DOM Elements
    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');
    const priceLabel = document.getElementById('lastPrice');
    const rsiValueLabel = document.getElementById('rsiValue');
    const signalValueLabel = document.getElementById('signalValue');
    const high24ValueLabel = document.getElementById('high24Value');
    const low24ValueLabel = document.getElementById('low24Value');
    const change24ValueLabel = document.getElementById('change24Value');
    const trendValueLabel = document.getElementById('trendValue');
    const candleSvg = document.getElementById('candleChart');
    const rsiSvg = document.getElementById('rsiChart');

    // Initialize data and start terminal
    async function initializeData() {
        try {
            statusText.textContent = 'Loading data...';
            
            // Fetch klines history (100 last candles)
            const klinesResponse = await fetch('https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=1m&limit=100');
            const klinesData = await klinesResponse.json();
            
            // Fetch 24h stats
            const tickerResponse = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT');
            const ticker24h = await tickerResponse.json();
            
            // Process klines data
            const processedCandles = klinesData.map(kline => ({
                open: parseFloat(kline[1]),
                high: parseFloat(kline[2]),
                low: parseFloat(kline[3]),
                close: parseFloat(kline[4]),
                volume: parseFloat(kline[5]),
                timestamp: kline[0],
                closeTime: kline[6]
            }));
            
            candles = processedCandles;
            priceHistory = candles.map(c => c.close);
            
            // Update 24h stats
            update24hStats(ticker24h);
            
            // Display initial data
            updateDisplay();
            drawCandles();
            drawRSI();
            
            // Start WebSocket connection
            connectWebSocket();
            
        } catch (error) {
            console.error('Error loading data:', error);
            statusText.textContent = 'Error loading data';
            statusDot.style.background = '#ff0040';
        }
    }

    function connectWebSocket() {
        try {
            ws = new WebSocket('wss://stream.binance.com:9443/ws/btcusdt@kline_1m');
            
            ws.onopen = () => {
                isConnected = true;
                statusDot.style.background = '#00ff88';
                statusText.textContent = 'Connected to Binance';
            };
            
            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                if (data.k) {
                    processKlineUpdate(data.k);
                }
            };
            
            ws.onclose = () => {
                isConnected = false;
                statusDot.style.background = '#ff0040';
                statusText.textContent = 'Disconnected';
                // Retry connection after 5 seconds
                setTimeout(connectWebSocket, 5000);
            };
            
            ws.onerror = (error) => {
                console.error('WebSocket error:', error);
                statusDot.style.background = '#ff0040';
                statusText.textContent = 'Connection error';
            };
            
        } catch (error) {
            console.error('WebSocket connection error:', error);
        }
    }

    function processKlineUpdate(klineData) {
        const newCandle = {
            open: parseFloat(klineData.o),
            high: parseFloat(klineData.h),
            low: parseFloat(klineData.l),
            close: parseFloat(klineData.c),
            volume: parseFloat(klineData.v),
            timestamp: klineData.t,
            closeTime: klineData.T,
            isClosed: klineData.x
        };

        if (klineData.x) {
            // Closed candle - add new candle
            candles.push(newCandle);
            if (candles.length > 100) {
                candles.shift();
            }
            
            priceHistory.push(newCandle.close);
            if (priceHistory.length > 100) {
                priceHistory.shift();
            }
        } else {
            // Update current candle
            if (candles.length > 0) {
                candles[candles.length - 1] = newCandle;
                priceHistory[priceHistory.length - 1] = newCandle.close;
            }
        }

        updateDisplay();
        drawCandles();
        drawRSI();
    }

    function update24hStats(ticker24h) {
        high24ValueLabel.textContent = parseFloat(ticker24h.highPrice).toFixed(2);
        low24ValueLabel.textContent = parseFloat(ticker24h.lowPrice).toFixed(2);
        
        const changePercent = parseFloat(ticker24h.priceChangePercent).toFixed(2);
        change24ValueLabel.textContent = changePercent + '%';
        change24ValueLabel.className = parseFloat(changePercent) >= 0 ? 'indicator-value positive' : 'indicator-value negative';
    }

function updateDisplay() {
    if (candles.length === 0) return;
    
    const lastCandle = candles[candles.length - 1];
    priceLabel.textContent = '$' + lastCandle.close.toFixed(2);
    
    // Calculate indicators
    if (priceHistory.length >= 15) {
        // RSI
        const rsi = calculateRSI(priceHistory);
        rsiValueLabel.textContent = rsi.toFixed(1);
        
        // MACD
        const macdData = calculateMACD(priceHistory);
        signalValueLabel.textContent = macdData.signal.toFixed(6);
        
        // Trend
        if (priceHistory.length >= 20) {
            const shortMA = priceHistory.slice(-5).reduce((a, b) => a + b, 0) / 5;
            const longMA = priceHistory.slice(-20).reduce((a, b) => a + b, 0) / 20;
            const isBullish = shortMA > longMA;
            trendValueLabel.textContent = isBullish ? 'Bullish' : 'Bearish';
            trendValueLabel.className = isBullish ? 'indicator-value positive' : 'indicator-value negative';
        }
    }
}

    function calculateRSI(prices, period = 14) {
        if (prices.length < period + 1) return 50;
        
        let gains = 0, losses = 0;
        for (let i = prices.length - period; i < prices.length; i++) {
            const change = prices[i] - prices[i - 1];
            if (change > 0) gains += change;
            else losses -= change;
        }
        
        const avgGain = gains / period;
        const avgLoss = losses / period;
        const rs = avgGain / (avgLoss || 1);
        return 100 - (100 / (1 + rs));
    }

    function calculateEMA(values, period) {
        if (values.length === 0) return 0;
        const k = 2 / (period + 1);
        let ema = values[0];
        for (let i = 1; i < values.length; i++) {
            ema = values[i] * k + ema * (1 - k);
        }
        return ema;
    }

    function calculateMACD(prices) {
        if (prices.length < 26) return { macd: 0, signal: 0, histogram: 0 };
        
        const ema12 = calculateEMA(prices.slice(-12), 12);
        const ema26 = calculateEMA(prices.slice(-26), 26);
        const macd = ema12 - ema26;
        
        macdHistory.push(macd);
        if (macdHistory.length > 9) macdHistory.shift();
        
        const signal = calculateEMA(macdHistory.slice(), 9);
        
        return { macd, signal, histogram: macd - signal };
    }

    function drawCandles() {
        while (candleSvg.firstChild) candleSvg.removeChild(candleSvg.firstChild);
        
        const displayCandles = candles.slice(-MAX_DISPLAY_CANDLES);
        if (!displayCandles.length) return;
        
        const prices = displayCandles.flatMap(c => [c.high, c.low]);
        const minP = Math.min(...prices);
        const maxP = Math.max(...prices);
        const range = maxP - minP || 1;

        displayCandles.forEach((c, i) => {
            const x = xOffset + i * candleSpacing + (candleSpacing - candleWidth) / 2;
            const yOpen = svgBottom - ((c.open - minP) / range) * chartH;
            const yClose = svgBottom - ((c.close - minP) / range) * chartH;
            const yHigh = svgBottom - ((c.high - minP) / range) * chartH;
            const yLow = svgBottom - ((c.low - minP) / range) * chartH;
            const isBull = c.close >= c.open;
            const color = isBull ? '#00ff88' : '#ff0040';

            // Wick
            const wick = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            wick.setAttribute('x1', x + candleWidth/2);
            wick.setAttribute('x2', x + candleWidth/2);
            wick.setAttribute('y1', yHigh);
            wick.setAttribute('y2', yLow);
            wick.setAttribute('stroke', color);
            wick.setAttribute('stroke-width', '1');
            candleSvg.appendChild(wick);
            
            // Body
            const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            rect.setAttribute('x', x);
            rect.setAttribute('y', Math.min(yOpen, yClose));
            rect.setAttribute('width', candleWidth);
            rect.setAttribute('height', Math.abs(yClose - yOpen) || 1);
            rect.setAttribute('fill', color);
            candleSvg.appendChild(rect);
        });
    }

    function drawRSI() {
        const existingLine = rsiSvg.querySelector('.rsi-line');
        if (existingLine) existingLine.remove();
        
        if (priceHistory.length < 15) return;
        
        const rsiValues = [];
        const startIndex = Math.max(14, priceHistory.length - MAX_DISPLAY_CANDLES);
        
        for (let i = startIndex; i < priceHistory.length; i++) {
            const rsi = calculateRSI(priceHistory.slice(0, i + 1));
            rsiValues.push(rsi);
        }
        
        if (rsiValues.length < 2) return;
        
        const rsiPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        let pathData = '';
        
        rsiValues.forEach((rsi, i) => {
            const x = xOffset + (i / (rsiValues.length - 1)) * (400 - 2 * xOffset);
            const y = 60 - (rsi / 100) * 60;
            pathData += (i === 0 ? 'M' : 'L') + x + ',' + y;
        });
        
        rsiPath.setAttribute('d', pathData);
        rsiPath.setAttribute('stroke', '#00ff88');
        rsiPath.setAttribute('stroke-width', '2');
        rsiPath.setAttribute('fill', 'none');
        rsiPath.setAttribute('class', 'rsi-line');
        rsiSvg.appendChild(rsiPath);
    }

    // Start the application
    document.addEventListener('DOMContentLoaded', () => {
        // Small delay to ensure DOM is ready
        setTimeout(initializeData, 500);
    });

    // Market data animation
    function animateMarketData() {
        setInterval(() => {
            // Animate portfolio value slightly
            const portfolio = document.getElementById('portfolioValue');
            if (portfolio) {
                const baseValue = 165221;
                const newValue = baseValue + (Math.random() - 0.5) * 2000;
                portfolio.textContent = '€' + newValue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }

            // Animate P&L
            const pnl = document.getElementById('pnlValue');
            if (pnl) {
                const variance = (Math.random() - 0.5) * 0.5;
                const newValue = 4.86 + variance;
                pnl.textContent = (newValue > 0 ? '+' : '') + newValue.toFixed(2) + '%';
                pnl.className = 'market-stat-value ' + (newValue > 0 ? 'positive' : 'negative');
            }
        }, 3000);
    }

    // Start market data animation
    setTimeout(animateMarketData, 2000);
})();
</script>

<!-- Experience & Education Timeline -->
<section class="timeline-section fade-in" id="experience">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Mon <span class="gradient-text">Parcours</span></h2>
            <p class="section-subtitle">Formation d'excellence et expérience en finance tech</p>
        </div>

        <div class="timeline-grid">
            <!-- Experience -->
            <div class="timeline-container">
                <h3 class="timeline-category-title">Expérience Professionnelle</h3>
                <div class="timeline">
                    <div class="timeline-item" data-aos="fade-right">
                        <div class="timeline-marker"></div>
                        <div class="timeline-card">
                            <div class="timeline-date">Jan 2024 - Sep 2024</div>
                            <div class="timeline-title">Assistant Chef de Projet Digital</div>
                            <div class="timeline-company">Influence Society - Lyon</div>
                            <div class="timeline-description">
                                Agence spécialisée dans les solutions web & IA pour les acteurs du tourisme et de l'hôtellerie de luxe.
                                <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                                    <li>Conception de sites Webflow avec modules d'IA intégrés</li>
                                    <li>Automatisation du contenu et optimisation UX</li>
                                    <li>Développement front-end et solutions responsive</li>
                                </ul>
                            </div>
                            <div class="timeline-skills">
                                <span class="skill-tag">Webflow</span>
                                <span class="skill-tag">HTML/CSS</span>
                                <span class="skill-tag">JavaScript</span>
                                <span class="skill-tag">IA Integration</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Education -->
            <div class="timeline-container">
                <h3 class="timeline-category-title">Formation</h3>
                <div class="timeline">
                    <div class="timeline-item" data-aos="fade-left">
                        <div class="timeline-marker"></div>
                        <div class="timeline-card">
                            <div class="timeline-date">Sep 2025 - En cours</div>
                            <div class="timeline-title">Bachelor Intelligence Artificielle & Data</div>
                            <div class="timeline-company">Ynov Campus - Lyon</div>
                            <div class="timeline-description">
                                Formation spécialisée en data science et intelligence artificielle. Apprentissage supervisé/non supervisé, 
                                deep learning avec TensorFlow, manipulation de bases SQL/NoSQL.
                            </div>
                            <div class="timeline-skills">
                                <span class="skill-tag">Machine Learning</span>
                                <span class="skill-tag">Deep Learning</span>
                                <span class="skill-tag">SQL/NoSQL</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-aos="fade-left" data-aos-delay="200">
                        <div class="timeline-marker"></div>
                        <div class="timeline-card">
                            <div class="timeline-date">Sep 2023 - Juin 2024</div>
                            <div class="timeline-title">Bachelor UX Design</div>
                            <div class="timeline-company">Digital Campus - Lyon</div>
                            <div class="timeline-description">
                                Formation orientée développement web et UX. Création de prototypes interactifs, 
                                intégration HTML/CSS, JavaScript et automatisation front-end.
                            </div>
                            <div class="timeline-skills">
                                <span class="skill-tag">UX Design</span>
                                <span class="skill-tag">Prototyping</span>
                                <span class="skill-tag">Front-end</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-aos="fade-left" data-aos-delay="400">
                        <div class="timeline-marker"></div>
                        <div class="timeline-card">
                            <div class="timeline-date">Sep 2020 - Juin 2022</div>
                            <div class="timeline-title">Cycle Préparatoire Ingénieur</div>
                            <div class="timeline-company">EPF École d'Ingénieur - Montpellier</div>
                            <div class="timeline-description">
                                Formation scientifique en mathématiques, physique et informatique. 
                                Projets en Python, C++, SQL, développement web et gestion agile.
                            </div>
                            <div class="timeline-skills">
                                <span class="skill-tag">Python</span>
                                <span class="skill-tag">C++</span>
                                <span class="skill-tag">SQL</span>
                                <span class="skill-tag">Agile</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section with Enhanced Animations -->
<section class="stats-section fade-in">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card" data-aos="zoom-in" data-aos-delay="0">
                <div class="stat-icon-wrapper">
                    <i class="fas fa-chart-line stat-icon"></i>
                </div>
                <div class="stat-number" data-target="66.46">0</div>
                <div class="stat-label">Rendement Maximum (%)</div>
                <div class="stat-bar">
                    <div class="stat-progress" data-width="66"></div>
                </div>
            </div>
            
            <div class="stat-card" data-aos="zoom-in" data-aos-delay="100">
                <div class="stat-icon-wrapper">
                    <i class="fas fa-robot stat-icon"></i>
                </div>
                <div class="stat-number" data-target="21">0</div>
                <div class="stat-label">Stratégies Développées</div>
                <div class="stat-bar">
                    <div class="stat-progress" data-width="85"></div>
                </div>
            </div>
            
            <div class="stat-card" data-aos="zoom-in" data-aos-delay="200">
                <div class="stat-icon-wrapper">
                    <i class="fas fa-trophy stat-icon"></i>
                </div>
                <div class="stat-number" data-target="2.68">0</div>
                <div class="stat-label">Profit Factor</div>
                <div class="stat-bar">
                    <div class="stat-progress" data-width="70"></div>
                </div>
            </div>
            
            <div class="stat-card" data-aos="zoom-in" data-aos-delay="300">
                <div class="stat-icon-wrapper">
                    <i class="fas fa-clock stat-icon"></i>
                </div>
                <div class="stat-number">24/7</div>
                <div class="stat-label">Trading Automatisé</div>
                <div class="stat-bar">
                    <div class="stat-progress" data-width="100"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Timeline Section Enhanced Styles */
.timeline-section {
    padding: 5rem 0;
    background: var(--dark);
    position: relative;
}

.timeline-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    margin-top: 3rem;
}

.timeline-container {
    position: relative;
}

.timeline-category-title {
    font-size: 2rem;
    margin-bottom: 2rem;
    color: var(--primary);
    text-align: center;
    font-weight: 700;
}

.timeline {
    position: relative;
    padding-left: 2rem;
}

.timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 3px;
    background: linear-gradient(180deg, var(--primary), var(--danger));
    border-radius: 2px;
}

.timeline-item {
    position: relative;
    margin-bottom: 3rem;
    opacity: 0;
    transform: translateX(-50px);
    transition: all 0.6s ease;
}

.timeline-item.animate {
    opacity: 1;
    transform: translateX(0);
}

.timeline-marker {
    position: absolute;
    left: -2.75rem;
    top: 0.5rem;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--primary);
    border: 3px solid var(--darker);
    box-shadow: 0 0 0 4px var(--primary);
    animation: pulse-marker 2s infinite;
}

@keyframes pulse-marker {
    0% { box-shadow: 0 0 0 4px var(--primary); }
    50% { box-shadow: 0 0 0 8px rgba(0, 255, 136, 0.5); }
    100% { box-shadow: 0 0 0 4px var(--primary); }
}

.timeline-card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 2rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.timeline-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, var(--primary), var(--danger));
    transform: scaleX(0);
    transition: transform 0.3s ease;
}

.timeline-card:hover {
    transform: translateY(-5px);
    border-color: var(--primary);
    box-shadow: 0 15px 40px rgba(0, 255, 136, 0.2);
}

.timeline-card:hover::before {
    transform: scaleX(1);
}

.timeline-date {
    color: var(--danger);
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.timeline-title {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text);
}

.timeline-company {
    color: var(--primary);
    font-size: 1rem;
    margin-bottom: 1rem;
    font-weight: 500;
}

.timeline-description {
    color: var(--text-dim);
    line-height: 1.6;
    margin-bottom: 1rem;
}

.timeline-skills {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.skill-tag {
    background: rgba(0, 255, 136, 0.1);
    color: var(--primary);
    padding: 0.3rem 0.8rem;
    border-radius: 20px;
    font-size: 0.75rem;
    border: 1px solid rgba(0, 255, 136, 0.3);
    transition: all 0.3s ease;
}

.skill-tag:hover {
    background: var(--primary);
    color: var(--dark);
    transform: scale(1.05);
}

/* Stats Section Enhanced */
.stats-section {
    padding: 5rem 0;
    background: var(--darker);
    position: relative;
}

.stats-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
    margin-top: 3rem;
}

.stat-card {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.2);
    border-radius: 16px;
    padding: 2.5rem 2rem;
    text-align: center;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
}

.stat-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(0, 255, 136, 0.1) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.stat-card:hover {
    transform: perspective(1000px) rotateX(-5deg) rotateY(5deg) translateY(-10px);
    border-color: var(--primary);
    box-shadow: 0 20px 50px rgba(0, 255, 136, 0.3);
}

.stat-card:hover::before {
    opacity: 1;
}

.stat-icon-wrapper {
    width: 60px;
    height: 60px;
    margin: 0 auto 1.5rem;
    background: linear-gradient(135deg, var(--primary), var(--danger));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease;
}

.stat-card:hover .stat-icon-wrapper {
    transform: scale(1.1) rotateY(180deg);
}

.stat-icon {
    font-size: 1.5rem;
    color: var(--light);
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--primary);
    margin-bottom: 0.5rem;
    font-family: 'JetBrains Mono', monospace;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 1rem;
}

.stat-bar {
    width: 100%;
    height: 4px;
    background: rgba(0, 255, 136, 0.1);
    border-radius: 2px;
    overflow: hidden;
}

.stat-progress {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--danger));
    border-radius: 2px;
    width: 0;
    transition: width 2s ease;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .timeline-grid {
        grid-template-columns: 1fr;
        gap: 3rem;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .timeline-card {
        padding: 1.5rem;
    }
    
    .stat-card {
        padding: 2rem 1.5rem;
    }
}
</style>

<script>
// Timeline Animations
function initTimelineAnimations() {
    const timelineItems = document.querySelectorAll('.timeline-item');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate');
                }, index * 200);
            }
        });
    }, { threshold: 0.3 });
    
    timelineItems.forEach(item => {
        observer.observe(item);
    });
}

// Stats Counter Animation
function initStatsAnimations() {
    const statCards = document.querySelectorAll('.stat-card');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const numberElement = entry.target.querySelector('.stat-number');
                const progressBar = entry.target.querySelector('.stat-progress');
                
                // Animate number
                const target = parseFloat(numberElement.dataset.target);
                if (target && !isNaN(target)) {
                    animateNumber(numberElement, target);
                }
                
                // Animate progress bar
                if (progressBar) {
                    const width = progressBar.dataset.width;
                    setTimeout(() => {
                        progressBar.style.width = width + '%';
                    }, 500);
                }
            }
        });
    }, { threshold: 0.5 });
    
    statCards.forEach(card => {
        observer.observe(card);
    });
}

function animateNumber(element, target) {
    const duration = 2000;
    const start = performance.now();
    const startValue = 0;
    
    function updateNumber(currentTime) {
        const elapsed = currentTime - start;
        const progress = Math.min(elapsed / duration, 1);
        
        const easeOutCubic = 1 - Math.pow(1 - progress, 3);
        const current = startValue + (target - startValue) * easeOutCubic;
        
        if (target % 1 === 0) {
            element.textContent = Math.floor(current);
        } else {
            element.textContent = current.toFixed(2);
        }
        
        if (progress < 1) {
            requestAnimationFrame(updateNumber);
        }
    }
    
    requestAnimationFrame(updateNumber);
}

// Initialize animations when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
    initTimelineAnimations();
    initStatsAnimations();
});

// Add 3D mouse tracking effect for project cards (mouvement très réduit)
document.addEventListener('mousemove', function(e) {
    const projectCards = document.querySelectorAll('.project-card'); // Changé de .stat-card à .project-card
    
    projectCards.forEach(card => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const percentX = (x - centerX) / centerX;
            const percentY = (y - centerY) / centerY;
            
            // Réduction drastique : divisé par 2 (de 3 à 1.5)
            const rotateY = percentX * 1.5;
            const rotateX = -percentY * 1.5;
            
            // Réduction aussi du translateY : divisé par 2 (de -5px à -2.5px)
            card.style.transform = `perspective(1000px) rotateY(${rotateY}deg) rotateX(${rotateX}deg) translateY(-2.5px)`;
        } else {
            card.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg) translateY(0px)';
        }
    });
});
</script>

<!-- Projects Section with 3D Effects -->
<section class="projects-section fade-in" id="projects">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Projets <span class="gradient-text">Innovants</span></h2>
            <p class="section-subtitle">Systèmes de trading haute performance et modèles prédictifs avancés</p>
        </div>

        <div class="projects-grid">
            <div class="project-card" data-aos="flip-left" data-aos-delay="0">
                <div class="project-glow"></div>
                <div class="project-header">
                    <div class="project-icon-wrapper">
                        <i class="fas fa-rocket project-icon"></i>
                    </div>
                    <h3 class="project-title">Bot Trading HFT</h3>
                </div>
                <p class="project-description">
                    Système de trading haute fréquence capable d'exécuter des milliers d'ordres par jour. 
                    Intégration complète avec l'API REST MEXC, gestion avancée des risques avec trailing stop 
                    et système de logging détaillé pour l'analyse post-trade.
                </p>
                <div class="project-metrics">
                    <div class="metric">
                        <div class="metric-icon">📊</div>
                        <div class="metric-value" data-target="1000">0</div>
                        <div class="metric-label">Trades/jour</div>
                    </div>
                    <div class="metric">
                        <div class="metric-icon">⚡</div>
                        <div class="metric-value">50ms</div>
                        <div class="metric-label">Latence</div>
                    </div>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag hover-tech">Python</span>
                    <span class="tech-tag hover-tech">API REST</span>
                    <span class="tech-tag hover-tech">Threading</span>
                    <span class="tech-tag hover-tech">HMAC</span>
                    <span class="tech-tag hover-tech">Selenium</span>
                </div>
                <div class="project-links">
                    <a href="https://github.com/Nicolas6910/portfolio-algo-trading/blob/main/Bot%20Trading%20HFT/Bot%20Trading%20HFT.py" class="project-link">
                        <i class="fab fa-github"></i> Code source
                    </a>
                </div>
            </div>

            <div class="project-card" data-aos="flip-left" data-aos-delay="200">
                <div class="project-glow"></div>
                <div class="project-header">
                    <div class="project-icon-wrapper">
                        <i class="fas fa-brain project-icon"></i>
                    </div>
                    <h3 class="project-title">LSTM TensorFlow</h3>
                </div>
                <p class="project-description">
                    Réseau de neurones LSTM pour la prédiction de prix crypto. Entraîné sur des séquences 
                    temporelles enrichies de 40+ indicateurs techniques. Architecture optimisée avec dropout 
                    et early stopping pour éviter l'overfitting.
                </p>
                <div class="project-metrics">
                    <div class="metric">
                        <div class="metric-icon">🎯</div>
                        <div class="metric-value" data-target="48.02">0</div>
                        <div class="metric-label">Précision (%)</div>
                    </div>
                    <div class="metric">
                        <div class="metric-icon">📈</div>
                        <div class="metric-value" data-target="201.99">0</div>
                        <div class="metric-label">MAE</div>
                    </div>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag hover-tech">TensorFlow</span>
                    <span class="tech-tag hover-tech">Keras</span>
                    <span class="tech-tag hover-tech">TA-Lib</span>
                    <span class="tech-tag hover-tech">NumPy</span>
                    <span class="tech-tag hover-tech">Scikit-learn</span>
                </div>
                <div class="project-links">
                    <a href="https://nicolas6910.github.io/Portfolio/LSTM TensorFlow.html" class="project-link" target="_blank">
                        <i class="fas fa-chart-area"></i> Rapport
                    </a>
                    <a href="https://github.com/Nicolas6910/portfolio-algo-trading/blob/main/LSTM%20TensorFlow/LSTM%20TensorFlow.py" class="project-link">
                        <i class="fab fa-github"></i> Code source
                    </a>
                </div>
            </div>

            <div class="project-card" data-aos="flip-left" data-aos-delay="400">
                <div class="project-glow"></div>
                <div class="project-header">
                    <div class="project-icon-wrapper">
                        <i class="fas fa-chart-bar project-icon"></i>
                    </div>
                    <h3 class="project-title">M-Making Analytics</h3>
                </div>
                <p class="project-description">
                    Dashboard temps réel pour l'analyse de carnets d'ordres. Détection automatique de 
                    wash-trading et volumes anormaux via algorithmes de clustering. Interface interactive 
                    avec filtres avancés et alertes personnalisables.
                </p>
                <div class="project-metrics">
                    <div class="metric">
                        <div class="metric-icon">💰</div>
                        <div class="metric-value">$667.6M</div>
                        <div class="metric-label">Volume suspect</div>
                    </div>
                    <div class="metric">
                        <div class="metric-icon">🔍</div>
                        <div class="metric-value" data-target="236">0</div>
                        <div class="metric-label">Transactions</div>
                    </div>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag hover-tech">Dash</span>
                    <span class="tech-tag hover-tech">Plotly</span>
                    <span class="tech-tag hover-tech">WebSocket</span>
                    <span class="tech-tag hover-tech">NetworkX</span>
                    <span class="tech-tag hover-tech">Pandas</span>
                </div>
                <div class="project-links">
                    <a href="https://nicolas6910.github.io/Portfolio/M-Making%20Analytics.html" class="project-link" target="_blank">
                        <i class="fas fa-chart-area"></i> Rapport
                    </a>
                    <a href="https://github.com/Nicolas6910/portfolio-algo-trading/blob/main/M-Making%20Analytics/M-Making%20Analytics.ipynb" class="project-link">
                        <i class="fab fa-github"></i> Code source
                    </a>
                </div>
            </div>

            <div class="project-card" data-aos="flip-right" data-aos-delay="0">
                <div class="project-glow"></div>
                <div class="project-header">
                    <div class="project-icon-wrapper">
                        <i class="fas fa-search-dollar project-icon"></i>
                    </div>
                    <h3 class="project-title">Détection Signaux PEPE</h3>
                </div>
                <p class="project-description">
                    Stratégie algorithmique de détection de signaux d'entrée/sortie sur la paire PEPE/USDT. Utilisation d'indicateurs techniques avancés et d'analyse de momentum pour identifier les opportunités de trading avec un ratio risque/récompense optimisé.
                </p>
                <div class="project-metrics">
                    <div class="metric">
                        <div class="metric-icon">💎</div>
                        <div class="metric-value" data-target="66.46">0</div>
                        <div class="metric-label">Profit (%)</div>
                    </div>
                    <div class="metric">
                        <div class="metric-icon">📉</div>
                        <div class="metric-value" data-target="14.47">0</div>
                        <div class="metric-label">Max Drawdown (%)</div>
                    </div>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag hover-tech">Python</span>
                    <span class="tech-tag hover-tech">TA-Lib</span>
                    <span class="tech-tag hover-tech">Backtesting</span>
                    <span class="tech-tag hover-tech">Signal Processing</span>
                    <span class="tech-tag hover-tech">Risk Management</span>
                </div>
                <div class="project-links">
                    <a href="https://nicolas6910.github.io/Portfolio/D%C3%A9tection%20Signaux%20PEPE.html" class="project-link" target="_blank">
                        <i class="fas fa-chart-area"></i> Rapport
                    </a>
                    <a href="https://github.com/Nicolas6910/portfolio-algo-trading/blob/main/D%C3%A9tection%20Signaux%20PEPE/D%C3%A9tection%20Signaux%20PEPE.py" class="project-link">
                        <i class="fab fa-github"></i> Code source
                    </a>
                    <a href="https://portfolio-algo-trading.onrender.com/" class="project-link">
                        <i class="fas fa-play-circle"></i> Live
                    </a>
                </div>
            </div>

            <div class="project-card" data-aos="flip-right" data-aos-delay="200">
                <div class="project-glow"></div>
                <div class="project-header">
                    <div class="project-icon-wrapper">
                        <i class="fas fa-chart-line project-icon"></i>
                    </div>
                    <h3 class="project-title">Stratégie MACD Bitcoin</h3>
                </div>
                <p class="project-description">
                    Implémentation d'une stratégie MACD optimisée pour le trading de Bitcoin. Analyse des divergences, croisements de lignes et histogramme pour générer des signaux précis. Backtesting exhaustif sur plusieurs années de données historiques.
                </p>
                <div class="project-metrics">
                    <div class="metric">
                        <div class="metric-icon">🚀</div>
                        <div class="metric-value" data-target="199.78">0</div>
                        <div class="metric-label">Profit (%)</div>
                    </div>
                    <div class="metric">
                        <div class="metric-icon">🎯</div>
                        <div class="metric-value" data-target="33.9">0</div>
                        <div class="metric-label">Winrate (%)</div>
                    </div>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag hover-tech">Python</span>
                    <span class="tech-tag hover-tech">MACD</span>
                    <span class="tech-tag hover-tech">Technical Analysis</span>
                    <span class="tech-tag hover-tech">Pandas</span>
                    <span class="tech-tag hover-tech">Matplotlib</span>
                </div>
                <div class="project-links">
                    <a href="https://nicolas6910.github.io/Portfolio/Strat%C3%A9gie%20MACD%20Bitcoin.html" class="project-link" target="_blank">
                        <i class="fas fa-chart-area"></i> Rapport
                    </a>
                    <a href="https://github.com/Nicolas6910/portfolio-algo-trading/blob/main/Strat%C3%A9gie%20MACD%20Bitcoin/Strat%C3%A9gie%20MACD%20Bitcoin.py" class="project-link">
                        <i class="fab fa-github"></i> Code source
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Projects Section Advanced Styles */
.projects-section {
    padding: 5rem 0;
    background: var(--dark);
    position: relative;
}

.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
    gap: 3rem;
    margin-top: 4rem;
    perspective: 1000px;
}

.project-card {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.2);
    border-radius: 20px;
    padding: 2.5rem;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
    transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px);
    transform-style: preserve-3d;
}

.project-glow {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(0, 255, 136, 0.15) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
    transform: translateZ(-10px);
}

.project-card:hover {
    transform: perspective(1000px) rotateX(-10deg) rotateY(5deg) translateY(-15px) translateZ(30px);
    border-color: var(--primary);
    box-shadow: 
        0 25px 60px rgba(0, 255, 136, 0.3),
        0 0 0 1px rgba(0, 255, 136, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.project-card:hover .project-glow {
    opacity: 1;
}

.project-header {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
    transform: translateZ(20px);
}

.project-icon-wrapper {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary), var(--danger));
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
    position: relative;
}

.project-card:hover .project-icon-wrapper {
    transform: rotateY(180deg) scale(1.1);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.4);
}

.project-icon {
    font-size: 1.8rem;
    color: var(--light);
    transition: transform 0.4s ease;
}

.project-card:hover .project-icon {
    transform: rotateY(180deg);
}

.project-title {
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--text);
    margin: 0;
}

.project-description {
    color: var(--text-dim);
    line-height: 1.7;
    margin-bottom: 2rem;
    flex-grow: 1;
    transform: translateZ(10px);
}

.project-metrics {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    border: 1px solid rgba(0, 255, 136, 0.1);
    transform: translateZ(15px);
}

.metric {
    text-align: center;
    transition: transform 0.3s ease;
}

.project-card:hover .metric {
    transform: translateY(-3px);
}

.metric-icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    display: block;
}

.metric-value {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--primary);
    font-family: 'JetBrains Mono', monospace;
    display: block;
    margin-bottom: 0.25rem;
}

.metric-label {
    font-size: 0.75rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.tech-stack {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 2rem;
    transform: translateZ(5px);
}

.tech-tag {
    background: rgba(0, 255, 136, 0.1);
    color: var(--primary);
    padding: 0.4rem 1rem;
    border-radius: 25px;
    font-size: 0.8rem;
    border: 1px solid rgba(0, 255, 136, 0.3);
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.tech-tag::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

.hover-tech:hover {
    background: var(--primary);
    color: var(--dark);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
}

.hover-tech:hover::before {
    left: 100%;
}

.project-links {
    display: flex;
    gap: 1rem;
    margin-top: auto;
    transform: translateZ(20px);
    flex-wrap: wrap;
}

.project-link {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: 1px solid var(--primary);
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.project-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--primary);
    transition: left 0.3s ease;
    z-index: -1;
}

.project-link:hover {
    color: var(--dark);
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 255, 136, 0.4);
}

.project-link:hover::before {
    left: 0;
}

/* Animation Keyframes */
@keyframes float3D {
    0%, 100% {
        transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px);
    }
    50% {
        transform: perspective(1000px) rotateX(2deg) rotateY(1deg) translateZ(10px);
    }
}

/* Add floating animation to cards when not hovered */
.project-card:not(:hover) {
    animation: float3D 6s ease-in-out infinite;
}

.project-card:nth-child(2n) {
    animation-delay: -2s;
}

.project-card:nth-child(3n) {
    animation-delay: -4s;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .projects-grid {
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
    }
    
    .project-card:hover {
        transform: perspective(1000px) rotateX(-5deg) rotateY(2deg) translateY(-10px) translateZ(20px);
    }
}

@media (max-width: 768px) {
    .projects-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .project-card {
        padding: 2rem;
    }
    
    .project-card:hover {
        transform: translateY(-5px);
    }
    
    .project-metrics {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .project-links {
        flex-direction: column;
    }
}
</style>

<script>
// Projects Animation and Interaction
document.addEventListener('DOMContentLoaded', function() {
    initProjectsAnimations();
    initProjectsCounters();
    initProjectsInteractions();
});

function initProjectsAnimations() {
    const projectCards = document.querySelectorAll('.project-card');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
                }, index * 150);
            }
        });
    }, { threshold: 0.2 });
    
    projectCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'perspective(1000px) rotateX(20deg) rotateY(10deg) translateZ(-50px)';
        card.style.transition = 'all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        observer.observe(card);
    });
}

function initProjectsCounters() {
    const projectCards = document.querySelectorAll('.project-card');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const metricValues = entry.target.querySelectorAll('.metric-value[data-target]');
                
                metricValues.forEach(valueElement => {
                    const target = parseFloat(valueElement.dataset.target);
                    if (!isNaN(target)) {
                        animateProjectNumber(valueElement, target);
                    }
                });
            }
        });
    }, { threshold: 0.5 });
    
    projectCards.forEach(card => {
        observer.observe(card);
    });
}

function animateProjectNumber(element, target) {
    const duration = 2500;
    const start = performance.now();
    const startValue = 0;
    
    function updateNumber(currentTime) {
        const elapsed = currentTime - start;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing function for smooth animation
        const easeOutElastic = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress) * Math.sin((progress * 10 - 0.75) * (2 * Math.PI) / 3);
        const current = startValue + (target - startValue) * easeOutElastic;
        
        if (target % 1 === 0) {
            element.textContent = Math.floor(current);
        } else {
            element.textContent = current.toFixed(2);
        }
        
        if (progress < 1) {
            requestAnimationFrame(updateNumber);
        }
    }
    
    requestAnimationFrame(updateNumber);
}

function initProjectsInteractions() {
    const projectCards = document.querySelectorAll('.project-card');
    
    projectCards.forEach(card => {
        // Enhanced mouse tracking for 3D effect
        card.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = (y - centerY) / centerY * -15;
            const rotateY = (x - centerX) / centerX * 15;
            
            this.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-15px) translateZ(30px)`;
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
        });
        
        // Add click animation
        card.addEventListener('click', function(e) {
            if (!e.target.closest('.project-link')) {
                this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px) scale(0.98)';
                setTimeout(() => {
                    this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px) scale(1)';
                }, 150);
            }
        });
    });
    
    // Tech tags interaction
    const techTags = document.querySelectorAll('.hover-tech');
    techTags.forEach(tag => {
        tag.addEventListener('click', function() {
            // Create ripple effect
            const ripple = document.createElement('span');
            ripple.style.cssText = `
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.6);
                transform: scale(0);
                animation: ripple 0.6s linear;
                left: 50%;
                top: 50%;
                width: 20px;
                height: 20px;
                margin-left: -10px;
                margin-top: -10px;
            `;
            
            this.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });
}

// Add CSS for ripple animation
const style = document.createElement('style');
style.textContent = `
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);
</script>

<!-- Skills Section -->
<section class="skills-section fade-in" id="skills">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Compétences <span class="gradient-text">Techniques</span></h2>
            <p class="section-subtitle">Stack technologique complet pour la finance quantitative</p>
        </div>

        <div class="skills-grid">
            <div class="skill-category" data-category="programming">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>Programmation</h3>
                </div>
                <div class="skill-list">
                    <div class="skill-item">
                        <span class="skill-name">Python</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">SQL</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">C++</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">JavaScript</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">HTML/CSS</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="skill-category" data-category="ml">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Machine Learning</h3>
                </div>
                <div class="skill-list">
                    <div class="skill-item">
                        <span class="skill-name">TensorFlow/Keras</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Scikit-learn</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Pandas/NumPy</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">LSTM/RNN</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Clustering</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="skill-category" data-category="finance">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Trading & Finance</h3>
                </div>
                <div class="skill-list">
                    <div class="skill-item">
                        <span class="skill-name">TA-Lib/Pandas-ta</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Backtesting</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Risk Management</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">DeFi/Crypto</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">API Trading</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="skill-category" data-category="devops">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>DevOps & Outils</h3>
                </div>
                <div class="skill-list">
                    <div class="skill-item">
                        <span class="skill-name">Git/GitHub</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Jupyter</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">SQLite</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Selenium</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Dash/Plotly</span>
                        <div class="skill-level">
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot active"></span>
                            <span class="skill-dot"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact-section fade-in" id="contact">
    <div class="container">
        <div class="contact-content">
            <div class="section-header">
                <h2 class="section-title">Collaborons <span class="gradient-text">Ensemble</span></h2>
                <p class="section-subtitle">Recherche alternance Data Science/Engineering • Disponible 01/07/2025</p>
            </div>

            <div class="contact-grid">
                <div class="contact-item" data-contact="email">
                    <div class="contact-icon-wrapper">
                        <i class="fas fa-envelope contact-icon"></i>
                        <div class="icon-pulse"></div>
                    </div>
                    <h4>Email</h4>
                    <a href="mailto:nicolas01.chalopin@gmail.com">nicolas01.chalopin@gmail.com</a>
                    <div class="contact-decoration"></div>
                </div>
                
                <div class="contact-item" data-contact="phone">
                    <div class="contact-icon-wrapper">
                        <i class="fas fa-phone contact-icon"></i>
                        <div class="icon-pulse"></div>
                    </div>
                    <h4>Téléphone</h4>
                    <a href="tel:+33782425124">07 82 42 51 24</a>
                    <div class="contact-decoration"></div>
                </div>
                
                <div class="contact-item" data-contact="linkedin">
                    <div class="contact-icon-wrapper">
                        <i class="fab fa-linkedin contact-icon"></i>
                        <div class="icon-pulse"></div>
                    </div>
                    <h4>LinkedIn</h4>
                    <a href="https://linkedin.com/in/nicolas-chalopin" target="_blank">nicolas-chalopin</a>
                    <div class="contact-decoration"></div>
                </div>
                
                <div class="contact-item" data-contact="github">
                    <div class="contact-icon-wrapper">
                        <i class="fab fa-github contact-icon"></i>
                        <div class="icon-pulse"></div>
                    </div>
                    <h4>GitHub</h4>
                    <a href="https://github.com/nicolaschalopin" target="_blank">nicolaschalopin</a>
                    <div class="contact-decoration"></div>
                </div>
            </div>

            <div class="contact-cta">
                <p class="cta-text">Prêt à révolutionner la finance avec l'IA ?</p>
                <a href="mailto:nicolas01.chalopin@gmail.com" class="cta-button">
                    <span>Discutons de votre projet</span>
                    <i class="fas fa-rocket"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-left">
                <div class="footer-logo">NC</div>
                <p>Développeur Quant passionné par l'innovation en finance algorithmique</p>
            </div>
            <div class="footer-center">
                <div class="footer-stats">
                    <div class="footer-stat">
                        <span class="stat-number" data-target="21">0</span>
                        <span class="stat-label">Projets</span>
                    </div>
                    <div class="footer-stat">
                        <span class="stat-number" data-target="3">0</span>
                        <span class="stat-label">Années d'exp.</span>
                    </div>
                    <div class="footer-stat">
                        <span class="stat-number" data-target="95">0</span>
                        <span class="stat-label">% Satisfaction</span>
                    </div>
                </div>
            </div>
            <div class="footer-right">
                <div class="social-links">
                    <a href="https://linkedin.com/in/nicolas-chalopin" class="social-link">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://github.com/nicolaschalopin" class="social-link">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="mailto:nicolas01.chalopin@gmail.com" class="social-link">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Nicolas Chalopin. Tous droits réservés. | Passionné de Finance & IA</p>
        </div>
    </div>
</footer>

<style>
/* Skills Section */
.skills-section {
    padding: 2rem 0;
    background: var(--darker);
}

.skills-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.skill-category {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.2);
    border-radius: 12px;
    padding: 2rem;
    height: 100%;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.skill-category::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--danger));
    transform: scaleX(0);
    transition: transform 0.5s ease;
}

.skill-category:hover {
    transform: translateY(-10px);
    border-color: var(--primary);
    box-shadow: 0 20px 50px rgba(0, 255, 136, 0.25);
}

.skill-category:hover::before {
    transform: scaleX(1);
}

.category-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
}

.category-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary), var(--danger));
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--light);
    transition: transform 0.3s ease;
}

.skill-category:hover .category-icon {
    transform: scale(1.1) rotate(5deg);
}

.category-header h3 {
    font-size: 1.5rem;
    color: var(--text);
    margin: 0;
    font-weight: 600;
}

.skill-list {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.skill-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    padding: 0.75rem;
    border-radius: 8px;
}

.skill-item:hover {
    background: rgba(0, 255, 136, 0.05);
    transform: translateX(10px);
}

.skill-name {
    font-weight: 500;
    color: var(--text);
}

.skill-level {
    display: flex;
    gap: 0.25rem;
}

.skill-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 0, 64, 0.2);
    transition: all 0.3s ease;
}

.skill-dot.active {
    background: var(--primary);
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
}

/* Contact Section */
.contact-section {
    padding: 5rem 0;
    background: var(--dark);
}

.contact-content {
    max-width: 1000px;
    margin: 0 auto;
    text-align: center;
}

.contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 2rem;
    margin: 4rem 0;
}

.contact-item {
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.2);
    border-radius: 20px;
    padding: 2.5rem 2rem;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.contact-item::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(0, 255, 136, 0.1) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.contact-item:hover {
    transform: translateY(-15px) scale(1.05);
    border-color: var(--primary);
    box-shadow: 0 25px 60px rgba(0, 255, 136, 0.3);
}

.contact-item:hover::before {
    opacity: 1;
}

.contact-icon-wrapper {
    position: relative;
    margin: 0 auto 1.5rem;
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.contact-icon {
    font-size: 2rem;
    color: var(--primary);
    transition: all 0.3s ease;
    z-index: 2;
    position: relative;
}

.icon-pulse {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    border: 2px solid var(--primary);
    border-radius: 50%;
    animation: pulse-ring 2s infinite;
}

@keyframes pulse-ring {
    0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.5);
        opacity: 0;
    }
}

.contact-item:hover .contact-icon {
    transform: scale(1.2) rotate(10deg);
    color: var(--danger);
}

.contact-item h4 {
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: var(--text);
    font-weight: 600;
}

.contact-item a {
    color: var(--text-dim);
    text-decoration: none;
    transition: all 0.3s ease;
    font-weight: 500;
}

.contact-item:hover a {
    color: var(--primary);
}

.contact-decoration {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--danger));
    transform: scaleX(0);
    transition: transform 0.3s ease;
}

.contact-item:hover .contact-decoration {
    transform: scaleX(1);
}

.contact-cta {
    margin-top: 4rem;
    text-align: center;
}

.cta-text {
    font-size: 1.3rem;
    color: var(--text);
    margin-bottom: 2rem;
    font-weight: 500;
}

.cta-button {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem 3rem;
    background: linear-gradient(135deg, var(--primary), var(--danger));
    color: var(--light);
    text-decoration: none;
    border-radius: 50px;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
}

.cta-button:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 15px 40px rgba(0, 255, 136, 0.4);
}

.cta-button:hover::before {
    left: 100%;
}

/* Footer */
.footer {
    background: var(--darker);
    border-top: 1px solid rgba(255, 0, 64, 0.2);
    padding: 3rem 0 1rem;
}

.footer-content {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 3rem;
    align-items: center;
    margin-bottom: 2rem;
}

.footer-left {
    text-align: left;
}

.footer-logo {
    font-size: 2rem;
    font-weight: 800;
    color: var(--primary);
    margin-bottom: 1rem;
}

.footer-left p {
    color: var(--text-dim);
    line-height: 1.6;
}

.footer-center {
    text-align: center;
}

.footer-stats {
    display: flex;
    justify-content: center;
    gap: 2rem;
}

.footer-stat {
    text-align: center;
}

.footer-stat .stat-number {
    display: block;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
    font-family: 'JetBrains Mono', monospace;
}

.footer-stat .stat-label {
    font-size: 0.8rem;
    color: var(--text-dim);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.footer-right {
    text-align: right;
}

.social-links {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

.social-link {
    width: 50px;
    height: 50px;
    background: var(--card-bg);
    border: 1px solid rgba(255, 0, 64, 0.2);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-dim);
    text-decoration: none;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.social-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--primary);
    transition: left 0.3s ease;
    z-index: 0;
}

.social-link i {
    position: relative;
    z-index: 1;
    transition: color 0.3s ease;
}

.social-link:hover {
    transform: translateY(-3px);
    border-color: var(--primary);
    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
}

.social-link:hover::before {
    left: 0;
}

.social-link:hover i {
    color: var(--dark);
}

.footer-bottom {
    text-align: center;
    padding-top: 2rem;
    border-top: 1px solid rgba(255, 0, 64, 0.2);
}

.footer-bottom p {
    color: var(--text-dim);
    font-size: 0.9rem;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .skills-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
    
    .contact-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
        text-align: center;
    }
    
    .footer-right {
        text-align: center;
    }
    
    .social-links {
        justify-content: center;
    }
}

@media (max-width: 768px) {
    .skills-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .contact-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .skill-category {
        padding: 2rem 1.5rem;
    }
    
    .contact-item {
        padding: 2rem 1.5rem;
    }
    
    .footer-stats {
        flex-direction: column;
        gap: 1rem;
    }
    
    .cta-button {
        padding: 1.2rem 2rem;
        font-size: 1rem;
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: var(--dark);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--primary), var(--danger));
    border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--danger), var(--primary));
}
</style>

<script>
// Skills and Contact Interactions
document.addEventListener('DOMContentLoaded', function() {
    initSkillsAnimations();
    initContactAnimations();
    initFooterAnimations();
    initGlobalEffects();
});

function initSkillsAnimations() {
    const skillCategories = document.querySelectorAll('.skill-category');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, categoryIndex) => {
            if (entry.isIntersecting) {
                const skillItems = entry.target.querySelectorAll('.skill-item');
                
                skillItems.forEach((skillItem, itemIndex) => {
                    setTimeout(() => {
                        skillItem.style.opacity = '1';
                        skillItem.style.transform = 'translateX(0)';
                        
                        // Animate skill dots
                        const skillDots = skillItem.querySelectorAll('.skill-dot.active');
                        skillDots.forEach((dot, dotIndex) => {
                            setTimeout(() => {
                                dot.style.transform = 'scale(1.2)';
                                setTimeout(() => {
                                    dot.style.transform = 'scale(1)';
                                }, 200);
                            }, dotIndex * 100);
                        });
                        
                    }, itemIndex * 150);
                });
            }
        });
    }, { threshold: 0.3 });
    
    skillCategories.forEach(category => {
        // Initial state
        const skillItems = category.querySelectorAll('.skill-item');
        skillItems.forEach(item => {
            item.style.opacity = '0';
            item.style.transform = 'translateX(-30px)';
            item.style.transition = 'all 0.6s ease';
        });
        
        observer.observe(category);
    });
}

function initContactAnimations() {
    const contactItems = document.querySelectorAll('.contact-item');
    
    contactItems.forEach((item, index) => {
        item.style.opacity = '0';
        item.style.transform = 'translateY(30px) scale(0.9)';
        item.style.transition = 'all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
    });
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                const items = entry.target.querySelectorAll('.contact-item');
                items.forEach((item, itemIndex) => {
                    setTimeout(() => {
                        item.style.opacity = '1';
                        item.style.transform = 'translateY(0) scale(1)';
                    }, itemIndex * 200);
                });
            }
        });
    }, { threshold: 0.2 });
    
    const contactSection = document.querySelector('.contact-section');
    if (contactSection) {
        observer.observe(contactSection);
    }
    
    // Enhanced hover effects
    contactItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            createRipple(this);
        });
    });
}

function createRipple(element) {
    const ripple = document.createElement('div');
    ripple.style.cssText = `
        position: absolute;
        border-radius: 50%;
        background: rgba(0, 255, 136, 0.3);
        transform: scale(0);
        animation: ripple-effect 0.8s linear;
        left: 50%;
        top: 50%;
        width: 100px;
        height: 100px;
        margin-left: -50px;
        margin-top: -50px;
        pointer-events: none;
    `;
    
    element.appendChild(ripple);
    
    setTimeout(() => {
        ripple.remove();
    }, 800);
}

function initFooterAnimations() {
    const footerStats = document.querySelectorAll('.footer-stat .stat-number');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                footerStats.forEach(stat => {
                    const target = parseInt(stat.dataset.target);
                    if (target && !isNaN(target)) {
                        animateFooterNumber(stat, target);
                    }
                });
            }
        });
    }, { threshold: 0.5 });
    
    const footer = document.querySelector('.footer');
    if (footer) {
        observer.observe(footer);
    }
}

function animateFooterNumber(element, target) {
    const duration = 2000;
    const start = performance.now();
    
    function updateNumber(currentTime) {
        const elapsed = currentTime - start;
        const progress = Math.min(elapsed / duration, 1);
        
        const easeOutBounce = progress < 0.5 
            ? 2 * progress * progress 
            : 1 - Math.pow(-2 * progress + 2, 3) / 2;
            
        const current = Math.floor(target * easeOutBounce);
        element.textContent = current;
        
        if (progress < 1) {
            requestAnimationFrame(updateNumber);
        }
    }
    
    requestAnimationFrame(updateNumber);
}

function initGlobalEffects() {
    // Global mouse tracking for enhanced effects
    document.addEventListener('mousemove', function(e) {
        const cards = document.querySelectorAll('.skill-category, .contact-item');
        
        cards.forEach(card => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const percentX = (x - centerX) / centerX;
                const percentY = (y - centerY) / centerY;
                
                // Subtle 3D effect
                const rotateY = percentX * 5;
                const rotateX = -percentY * 5;
                
                if (!card.matches(':hover')) {
                    card.style.transform = `perspective(1000px) rotateY(${rotateY}deg) rotateX(${rotateX}deg)`;
                }
            } else {
                card.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
            }
        });
    });
    
    // Add glow effect on mouse move for cards
    document.addEventListener('mousemove', (e) => {
        const allCards = document.querySelectorAll('.project-card, .stat-card, .skill-category, .contact-item');
        
        allCards.forEach(card => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const percentX = (x - centerX) / centerX;
                const percentY = (y - centerY) / centerY;
                
                card.style.setProperty('--mouse-x', x + 'px');
                card.style.setProperty('--mouse-y', y + 'px');
            }
        });
    });
}

// Add CSS animations via JavaScript
const globalAnimations = document.createElement('style');
globalAnimations.textContent = `
    @keyframes ripple-effect {
        to {
            transform: scale(2);
            opacity: 0;
        }
    }
`;
document.head.appendChild(globalAnimations);

// Final initialization
document.addEventListener('DOMContentLoaded', () => {
    // Add the trading terminal to the container
    const terminalContainer = document.getElementById('trading-terminal-container');
    if (terminalContainer) {
        // The terminal HTML from part 2 should be inserted here
        console.log('Terminal container found - ready for terminal injection');
    }
});
</script>

<!-- Script final pour assembler toutes les parties -->
<script>
// Final assembly script - Portfolio Nicolas Chalopin
document.addEventListener('DOMContentLoaded', () => {
    console.log('🚀 Portfolio Nicolas Chalopin - Initialisation...');
    
    // 1. Injecter le terminal de trading dans le container
    injectTradingTerminal();
    
    // 2. Initialiser tous les composants
    initializeAllComponents();
    
    // 3. Configurer les animations globales
    setupGlobalAnimations();
    
    // 4. Finaliser le chargement
    finalizeLoading();
});

// Fonction pour injecter le terminal de trading
function injectTradingTerminal() {
    const terminalContainer = document.getElementById('trading-terminal-container');
    if (terminalContainer) {
        // Le contenu HTML du terminal sera injecté ici automatiquement
        // depuis la partie 2 du portfolio
        console.log('✅ Terminal de trading container trouvé');
    }
}

// Initialisation de tous les composants
function initializeAllComponents() {
    // Navigation et effets de scroll
    if (typeof handleNavbarScroll === 'function') {
        handleNavbarScroll();
        console.log('✅ Navigation initialisée');
    }
    
    // Smooth scrolling
    if (typeof initSmoothScrolling === 'function') {
        initSmoothScrolling();
        console.log('✅ Smooth scrolling activé');
    }
    
    // Menu mobile
    if (typeof initMobileMenu === 'function') {
        initMobileMenu();
        console.log('✅ Menu mobile configuré');
    }
    
    // Effet typing
    if (typeof initTypingEffect === 'function') {
        initTypingEffect();
        console.log('✅ Effet typing activé');
    }
    
    // Animations de scroll
    if (typeof initScrollAnimations === 'function') {
        initScrollAnimations();
        console.log('✅ Animations de scroll configurées');
    }
    
    // Timeline animations
    if (typeof initTimelineAnimations === 'function') {
        setTimeout(initTimelineAnimations, 500);
        console.log('✅ Timeline animations initialisées');
    }
    
    // Stats animations
    if (typeof initStatsAnimations === 'function') {
        setTimeout(initStatsAnimations, 750);
        console.log('✅ Stats animations configurées');
    }
    
    // Projects animations
    if (typeof initProjectsAnimations === 'function') {
        setTimeout(initProjectsAnimations, 1000);
        console.log('✅ Projets animations activées');
    }
    
    // Skills animations
    if (typeof initSkillsAnimations === 'function') {
        setTimeout(initSkillsAnimations, 1250);
        console.log('✅ Compétences animations configurées');
    }
    
    // Contact animations
    if (typeof initContactAnimations === 'function') {
        setTimeout(initContactAnimations, 1500);
        console.log('✅ Contact animations initialisées');
    }
    
    // Footer animations
    if (typeof initFooterAnimations === 'function') {
        setTimeout(initFooterAnimations, 1750);
        console.log('✅ Footer animations configurées');
    }
}

// Configuration des animations globales
function setupGlobalAnimations() {
    // Particules d'arrière-plan
    if (typeof createParticles === 'function') {
        createParticles();
        console.log('✅ Particules d\'arrière-plan créées');
    }
    
    // Effets globaux de souris
    if (typeof initGlobalEffects === 'function') {
        initGlobalEffects();
        console.log('✅ Effets globaux de souris activés');
    }
    
    // Animation des éléments au scroll
    setupIntersectionObserver();
    
    // Gestion des erreurs pour le terminal
    setupTerminalErrorHandling();
}

// Observer pour les animations d'apparition
function setupIntersectionObserver() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                
                // Trigger spécifique pour les sections
                if (entry.target.classList.contains('stats-section')) {
                    triggerStatsAnimation();
                }
                if (entry.target.classList.contains('projects-section')) {
                    triggerProjectsAnimation();
                }
                if (entry.target.classList.contains('skills-section')) {
                    triggerSkillsAnimation();
                }
            }
        });
    }, observerOptions);

    // Observer toutes les sections avec fade-in
    document.querySelectorAll('.fade-in, section').forEach(section => {
        observer.observe(section);
    });
    
    console.log('✅ Intersection Observer configuré');
}

// Gestion des erreurs du terminal
function setupTerminalErrorHandling() {
    window.addEventListener('error', (e) => {
        if (e.message.includes('WebSocket') || e.message.includes('Binance')) {
            console.warn('⚠️ Erreur terminal de trading:', e.message);
            // Fallback en mode démo si la connexion Binance échoue
            enableDemoMode();
        }
    });
}

// Mode démo pour le terminal
function enableDemoMode() {
    const statusText = document.getElementById('statusText');
    if (statusText) {
        statusText.textContent = 'Mode Démo';
        console.log('🔄 Terminal en mode démo');
    }
}

// Déclencheurs d'animations spécifiques
function triggerStatsAnimation() {
    if (typeof animateNumbers === 'function') {
        setTimeout(animateNumbers, 200);
    }
}

function triggerProjectsAnimation() {
    if (typeof initProjectsCounters === 'function') {
        setTimeout(initProjectsCounters, 300);
    }
}

function triggerSkillsAnimation() {
    // Animation progressive des compétences
    const skillDots = document.querySelectorAll('.skill-dot.active');
    skillDots.forEach((dot, index) => {
        setTimeout(() => {
            dot.style.transform = 'scale(1.2)';
            setTimeout(() => {
                dot.style.transform = 'scale(1)';
            }, 200);
        }, index * 50);
    });
}

// Finalisation du chargement
function finalizeLoading() {
    // Année dynamique dans le footer
    updateFooterYear();
    
    // Animation de fin de chargement
    setTimeout(() => {
        document.body.style.opacity = '1';
        document.body.style.transition = 'opacity 0.5s ease';
        console.log('✅ Portfolio entièrement chargé');
        
        // Notification de succès
        showLoadingComplete();
    }, 100);
    
    // Performance monitoring
    if (window.performance) {
        const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
        console.log(`⏱️ Temps de chargement: ${loadTime}ms`);
    }
}

// Mise à jour de l'année dans le footer
function updateFooterYear() {
    const year = new Date().getFullYear();
    const footerText = document.querySelector('.footer-bottom p');
    if (footerText) {
        footerText.innerHTML = `&copy; ${year} Nicolas Chalopin. Tous droits réservés. | Passionné de Finance & IA`;
        console.log('✅ Année du footer mise à jour');
    }
}

// Notification de chargement complet
function showLoadingComplete() {
    // Animation subtile pour indiquer que tout est chargé
    const hero = document.querySelector('.hero');
    if (hero) {
        hero.style.animation = 'fadeInUp 0.8s ease-out';
    }
    
    // Console finale
    console.log(`
    🎉 Portfolio Nicolas Chalopin - Chargement Terminé!
    
    ✅ Navigation intelligente
    ✅ Terminal de trading en temps réel
    ✅ Animations 3D des projets
    ✅ Timeline interactive
    ✅ Compteurs animés
    ✅ Effets de particules
    ✅ Design responsive
    
    🚀 Prêt pour l'exploration!
    `);
}

// Gestion des erreurs globales
window.addEventListener('error', (e) => {
    console.error('❌ Erreur globale:', e.error);
});

// Gestion de la visibilité de la page
document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
        console.log('📱 Page mise en arrière-plan');
    } else {
        console.log('👁️ Page redevenue visible');
        // Relancer les animations si nécessaire
    }
});

// Style pour l'animation de fin
const finalStyle = document.createElement('style');
finalStyle.textContent = `
    @keyframes fadeInUp {
        from {
            opacity: 0.8;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
`;
document.head.appendChild(finalStyle);
</script>
